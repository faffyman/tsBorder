(function(a){a.fn.tsBorder=function(b){a(this).parent().css("position","relative");var c=a.extend({},a.fn.tsBorder.defaults,b);var d=0;return this.each(function(){oPos=a(this).position();var f=a(this).css("border-left-width");var e=a(this).css("border-top-width");e=parseInt(e);f=parseInt(f);var i=a(this).width();var g=a(this).height();if(c.autoAdjustForBorder&&c.tsBorderPosition=="outside"){i=i+(f*2);g=g+(e*2)}if(c.autoAdjustForBorder&&c.tsBorderPosition=="inside"){c.offsetTop=c.offsetTop+e;c.offsetLeft=c.offsetLeft+f}d++;var k=a('<div id="dt'+d+'">');k.css("position","absolute");k.css("zIndex",99);k.css("width",i+"px");k.css("height",c.thickness+"px");k.css("backgroundColor",c.color);k.css("opacity",c.opacity);k.offset({top:(oPos.top+c.offsetTop),left:(oPos.left+c.offsetLeft)});var h=a('<div id="db'+d+'">');h.css("position","absolute");h.css("zIndex",100);h.css("width",i+"px");h.css("height",c.thickness+"px");h.css("backgroundColor",c.color);h.css("opacity",c.opacity);dbtop=parseInt((oPos.top+g+c.offsetTop)-(c.thickness));dbleft=Math.ceil(oPos.left+c.offsetLeft);h.offset({top:dbtop,left:dbleft});var j=a('<div id="dl'+d+'">');j.css("position","absolute");j.css("zIndex",101).css("width",c.thickness+"px").css("height",(g-(c.thickness*2))+"px").css("backgroundColor",c.color).css("opacity",c.opacity).offset({top:(oPos.top+c.thickness+c.offsetTop),left:Math.ceil(oPos.left+c.offsetLeft)});var l=a('<div id="dr'+d+'">');l.css("position","absolute");l.css("zIndex",102).css("width",c.thickness+"px").css("height",(g-(c.thickness*2))+"px").css("backgroundColor",c.color).css("opacity",c.opacity).offset({top:(oPos.top+c.thickness+c.offsetTop),left:Math.ceil((oPos.left+i+c.offsetLeft)-c.thickness)});a(this).parent().append(k).append(h).append(j).append(l)})};a.fn.tsBorder.defaults={color:"#ffffff",opacity:1,thickness:15,offsetLeft:0,offsetTop:0,autoAdjustForBorder:false,tsBorderPosition:"inside"}})(jQuery);