(function(e){e.fn.tsBorder=function(t){e(this).parent().css("position","relative");var n=e.extend({},e.fn.tsBorder.defaults,t);var r=0;return this.each(function(){oPos=e(this).position();var t=e(this).css("border-left-width");var i=e(this).css("border-top-width");i=parseInt(i);t=parseInt(t);var s=e(this).width();var o=e(this).height();if(n.autoAdjustForBorder&&n.tsBorderPosition=="outside"){s=s+t*2;o=o+i*2}if(n.autoAdjustForBorder&&n.tsBorderPosition=="inside"){n.offsetTop=n.offsetTop+i;n.offsetLeft=n.offsetLeft+t}r++;var u=e('<div id="dt'+r+'">');u.css("position","absolute");u.css("zIndex",99);u.css("width",s+"px");u.css("height",n.thickness+"px");u.css("backgroundColor",n.color);u.css("opacity",n.opacity);u.offset({top:oPos.top+n.offsetTop,left:oPos.left+n.offsetLeft});if(n.borderTopLeftRadius){u.css("border-top-left-radius",parseInt(n.borderTopLeftRadius)+"px")}else if(n.borderRadius>=1){u.css("border-top-left-radius",parseInt(n.borderRadius)+"px")}if(n.borderTopRightRadius){u.css("border-top-right-radius",parseInt(n.borderTopRightRadius)+"px")}else if(n.borderRadius>=1){u.css("border-top-right-radius",parseInt(n.borderRadius)+"px")}var a=e('<div id="db'+r+'">');a.css("position","absolute");a.css("zIndex",100);a.css("width",s+"px");a.css("height",n.thickness+"px");a.css("backgroundColor",n.color);a.css("opacity",n.opacity);dbtop=parseInt(oPos.top+o+n.offsetTop-n.thickness);dbleft=Math.ceil(oPos.left+n.offsetLeft);a.offset({top:dbtop,left:dbleft});if(n.borderBottomLeftRadius){a.css("border-bottom-left-radius",parseInt(n.borderBottomLeftRadius)+"px")}else if(n.borderRadius>=1){a.css("border-bottom-left-radius",parseInt(n.borderRadius)+"px")}if(n.borderBottomRightRadius){a.css("border-bottom-right-radius",parseInt(n.borderBottomRightRadius)+"px")}else if(n.borderRadius>=1){a.css("border-bottom-right-radius",parseInt(n.borderRadius)+"px")}var f=e('<div id="dl'+r+'">');f.css("position","absolute");f.css("zIndex",101).css("width",n.thickness+"px").css("height",o-n.thickness*2+"px").css("backgroundColor",n.color).css("opacity",n.opacity).offset({top:oPos.top+n.thickness+n.offsetTop,left:Math.ceil(oPos.left+n.offsetLeft)});var l=e('<div id="dr'+r+'">');l.css("position","absolute");l.css("zIndex",102).css("width",n.thickness+"px").css("height",o-n.thickness*2+"px").css("backgroundColor",n.color).css("opacity",n.opacity).offset({top:oPos.top+n.thickness+n.offsetTop,left:Math.ceil(oPos.left+s+n.offsetLeft-n.thickness)});e(this).parent().append(u).append(a).append(f).append(l)})};e.fn.tsBorder.defaults={color:"#ffffff",opacity:1,thickness:15,offsetLeft:0,offsetTop:0,autoAdjustForBorder:false,tsBorderPosition:"inside",borderRadius:0,borderTopLeftRadius:false,borderTopRightRadius:false,borderBottomRightRadius:false,borderBottomLeftRadius:false}})(jQuery)